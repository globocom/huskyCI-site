(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{155:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return O})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return j}));var n=a(2),r=a(9),b=(a(0),a(171)),c={id:"env-vars",title:"Environment Variables"},O={id:"api/env-vars",title:"Environment Variables",description:"This section describes each environment variable that is used by huskyCI API. Use your own organization configuration in each of them.",source:"@site/docs/api/env-vars.md",permalink:"/docs/api/env-vars",sidebar:"docs",previous:{title:"Routes",permalink:"/docs/api/routes"},next:{title:"Setting up your local environment",permalink:"/docs/development/set-up-environment"}},i=[{value:"Required",id:"required",children:[]},{value:"Optional",id:"optional",children:[]}],o={rightToc:i};function j(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("p",null,"This section describes each environment variable that is used by huskyCI API. Use your own organization configuration in each of them."),Object(b.b)("h2",{id:"required"},"Required"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Example"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_ADDR")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"DB server address"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"10.10.10.12")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_NAME")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"DB name"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"huskyCI-DB-123")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_USERNAME")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"DB username"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"huskyCI-User-123")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_PASSWORD")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"DB password"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1w1lln0tU53th15p455w0rd")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_API_DEFAULT_USERNAME")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"API Admin username"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"huskyCIAdmin")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_API_DEFAULT_PASSWORD")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"API Admin password"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"huskyCIPassword")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_API_ALLOW_ORIGIN_CORS")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"CORS domanis"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://huskyci.myorg.com"}),"https://huskyci.myorg.com"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DOCKERAPI_ADDR")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Docker API host address"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"10.10.10.13")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("strong",{parentName:"td"},"HUSKYCI_DOCKERAPI_CERT_PATH")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Path which contains certificates generated"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"/go/src/github.com/globocom/huskyCI/")))),Object(b.b)("h2",{id:"optional"},"Optional"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Default Value"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_DEFAULT_HASH_FUNCTION"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Hash function used"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"SHA512")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_DEFAULT_ITERATIONS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"PBKDF2 Number of iterations"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"100000")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_DEFAULT_KEY_LENGTH"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"PBKDF2 Key length"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"512")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"huskyCI API port"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"8888")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_ALLOW_ORIGIN_CORS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Domain to set CORS configuration"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"localhost")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_ENABLE_HTTPS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Bool to initiate huskyCI API using TLS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"false")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_GIT_PRIVATE_SSH_KEY"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Private SSH key used to clone authenticated git repositories"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_GIT_SSH_URL"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Internal SSH URL that GoSec will use for cloning the internal repo"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_API_GIT_URL_TO_SUBSTITUTE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Internal repository HTTPS URL to be substituted by the SSH one"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_LOGGING_GRAYLOG_ADDR"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Graylog server address"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_LOGGING_GRAYLOG_PROTO"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Protocol used to send events to graylog"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"tcp")," or ",Object(b.b)("inlineCode",{parentName:"td"},"udp"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_LOGGING_GRAYLOG_APP_NAME"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"App name used for logging"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_LOGGING_GRAYLOG_TAG"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Tag to be sent on GLEF"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'""')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_LOGGING_GRAYLOG_DEV"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"If set to true, log is printed to STDOUT and not sent to Graylog"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"true")," or ",Object(b.b)("inlineCode",{parentName:"td"},"false"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_TYPE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Database type"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"mongodb (use ",Object(b.b)("inlineCode",{parentName:"td"},"postgresql")," or ",Object(b.b)("inlineCode",{parentName:"td"},"mongodb"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_MAX_OPEN_CONNS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Number of max allowed DB open connections"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_MAX_IDLE_CONNS"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Number of max allowed DB idle"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_CONN_MAXLIFETIME"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Number of max duration of a DB connection"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),Object(b.b)("inlineCode",{parentName:"td"},"time.hour")," (use nanoseconds)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Database port"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"27017")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_TIMEOUT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Database timeout"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"60 (use seconds)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DATABASE_DB_POOL_LIMIT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Database Pool Limit"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1000")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_PORT"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Docker API port"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"2376")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_TLS_VERIFY"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Boolean to verify TLS certificates at Docker API host"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"1 (use ",Object(b.b)("inlineCode",{parentName:"td"},"1"),", ",Object(b.b)("inlineCode",{parentName:"td"},"0")," or ",Object(b.b)("inlineCode",{parentName:"td"},"true"),", ",Object(b.b)("inlineCode",{parentName:"td"},"false"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_CERT_FILE_VALUE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Content of ",Object(b.b)("inlineCode",{parentName:"td"},"cert.pem")," certificate. To be used if deploying in Tsuru without the need to pass ",Object(b.b)("inlineCode",{parentName:"td"},"cert.pem")," as part of the command."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_CERT_KEY_VALUE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Content of ",Object(b.b)("inlineCode",{parentName:"td"},"key.pem")," key. To be used if deploying in Tsuru without the need to pass ",Object(b.b)("inlineCode",{parentName:"td"},"key.pem")," as part of the command."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"-----BEGIN RSA PRIVATE KEY----- ... -----END RSA PRIVATE KEY-----"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_API_TLS_CERT_VALUE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Content of ",Object(b.b)("inlineCode",{parentName:"td"},"api-tls-cert.pem")," certificate. To be used if deploying in Tsuru without the need to pass ",Object(b.b)("inlineCode",{parentName:"td"},"api-tls-cert.pem")," as part of the command."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_API_TLS_KEY_VALUE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Content of ",Object(b.b)("inlineCode",{parentName:"td"},"api-tls-key.pem")," key. To be used when deploying in Tsuru without the need to pass ",Object(b.b)("inlineCode",{parentName:"td"},"api-tls-key.pem")," as part of the command."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" (use ',Object(b.b)("inlineCode",{parentName:"td"},"-----BEGIN PRIVATE KEY----- ... -----END PRIVATE KEY-----"),")")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"HUSKYCI_DOCKERAPI_CERT_CA_VALUE"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Content of ",Object(b.b)("inlineCode",{parentName:"td"},"ca.pem")," certificate. To be used when deploying in Tsuru without the need to pass ",Object(b.b)("inlineCode",{parentName:"td"},"ca.pem")," as part of the command."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),'"" ( use ',Object(b.b)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")))))}j.isMDXComponent=!0},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return l}));var n=a(0),r=a.n(n);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},b=Object.keys(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=r.a.createContext({}),j=function(e){var t=r.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):O(O({},t),e)),a},p=function(e){var t=j(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,b=e.originalType,c=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),p=j(a),m=n,l=p["".concat(c,".").concat(m)]||p[m]||d[m]||b;return a?r.a.createElement(l,O(O({ref:t},o),{},{components:a})):r.a.createElement(l,O({ref:t},o))}));function l(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var b=a.length,c=new Array(b);c[0]=m;var O={};for(var i in t)hasOwnProperty.call(t,i)&&(O[i]=t[i]);O.originalType=e,O.mdxType="string"==typeof e?e:n,c[1]=O;for(var o=2;o<b;o++)c[o]=a[o];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);